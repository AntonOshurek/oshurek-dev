{"version":3,"file":"bundle.js","mappings":"mBAEAA,OAAOC,iBAAiB,oBAAoB,KCFtBC,MACrB,MAAMC,EAAcC,SAASC,iBAC5B,mEAEKC,EAAaF,SAASC,iBAC3B,kEAEKE,EAAkBC,WAAW,gCAC7BC,EAAWL,SAASM,cAAc,mBA0BxC,SAASC,EAAUC,IAUnB,SAAqBA,GACpB,IAAIC,EACAC,EAEW,SAAXF,GACHC,EAAa,gCACbC,EAAY,iCAEZD,EAAwB,UAAXD,EAAqB,MAAQ,UAC1CE,EAAuB,SAAXF,EAAoB,MAAQ,WAGzC,IAAIT,GAAaY,SAASC,IACzBA,EAAKC,MAAQJ,CAAU,IAGxB,IAAIP,GAAYS,SAASC,IACxBA,EAAKC,MAAQH,CAAS,GAExB,CA5BCI,CAAYN,GAEG,SAAXA,EA2CJO,aAAaC,WAAW,gBALzB,SAAoBR,GACnBO,aAAaE,QAAQ,eAAgBT,EACtC,CArCEU,CAAWV,EAEb,CA6BA,SAASW,IACR,OAAOJ,aAAaK,QAAQ,eAC7B,EA/DA,WACC,MAAMC,EAAcF,IAEA,OAAhBE,IACkBrB,SAASM,cAAe,gCAA+Be,MAC/DC,SAAU,GAGxBjB,EAASR,iBAAiB,UAAW0B,IACpChB,EAAUgB,EAAIC,OAAOC,MAAM,GAE7B,CA8DAC,GA5DA,WACC,MAAML,EAAcF,IACdQ,EAyCaxB,EAAgByB,QAEf,OAAS,QAzCT,OAAhBP,GAEAA,IAAgBM,GACnBpB,EAAUc,EAEZ,CAoDAQ,EAAa,EDjFb/B,EAAe,G","sources":["webpack://oshurek-dev/./src/scripts/index.js","webpack://oshurek-dev/./src/scripts/components/theme-switcher.js"],"sourcesContent":["import tchemeControl from './components/theme-switcher.js';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n\ttchemeControl();\n});\n","const tchemeControl = () => {\n\tconst lightStyles = document.querySelectorAll(\n\t\t'link[rel=stylesheet][media*=prefers-color-scheme][media*=light]',\n\t);\n\tconst darkStyles = document.querySelectorAll(\n\t\t'link[rel=stylesheet][media*=prefers-color-scheme][media*=dark]',\n\t);\n\tconst darkSchemeMedia = matchMedia('(prefers-color-scheme: dark)');\n\tconst fieldset = document.querySelector('.theme-switcher');\n\n\tfunction setupSwitcher() {\n\t\tconst savedScheme = getSavedScheme();\n\n\t\tif (savedScheme !== null) {\n\t\t\tconst currentRadio = document.querySelector(`.theme-switcher__radio[value=${savedScheme}]`);\n\t\t\tcurrentRadio.checked = true;\n\t\t}\n\n\t\tfieldset.addEventListener('change', (evt) => {\n\t\t\tsetScheme(evt.target.value);\n\t\t});\n\t}\n\n\tfunction setupScheme() {\n\t\tconst savedScheme = getSavedScheme();\n\t\tconst systemScheme = getSystemScheme();\n\n\t\tif (savedScheme === null) return;\n\n\t\tif (savedScheme !== systemScheme) {\n\t\t\tsetScheme(savedScheme);\n\t\t}\n\t}\n\n\tfunction setScheme(scheme) {\n\t\tswitchMedia(scheme);\n\n\t\tif (scheme === 'auto') {\n\t\t\tclearScheme();\n\t\t} else {\n\t\t\tsaveScheme(scheme);\n\t\t}\n\t}\n\n\tfunction switchMedia(scheme) {\n\t\tlet lightMedia;\n\t\tlet darkMedia;\n\n\t\tif (scheme === 'auto') {\n\t\t\tlightMedia = '(prefers-color-scheme: light)';\n\t\t\tdarkMedia = '(prefers-color-scheme: dark)';\n\t\t} else {\n\t\t\tlightMedia = scheme === 'light' ? 'all' : 'not all';\n\t\t\tdarkMedia = scheme === 'dark' ? 'all' : 'not all';\n\t\t}\n\n\t\t[...lightStyles].forEach((link) => {\n\t\t\tlink.media = lightMedia;\n\t\t});\n\n\t\t[...darkStyles].forEach((link) => {\n\t\t\tlink.media = darkMedia;\n\t\t});\n\t}\n\n\tfunction getSystemScheme() {\n\t\tconst darkScheme = darkSchemeMedia.matches;\n\n\t\treturn darkScheme ? 'dark' : 'light';\n\t}\n\n\tfunction getSavedScheme() {\n\t\treturn localStorage.getItem('color-scheme');\n\t}\n\n\tfunction saveScheme(scheme) {\n\t\tlocalStorage.setItem('color-scheme', scheme);\n\t}\n\n\tfunction clearScheme() {\n\t\tlocalStorage.removeItem('color-scheme');\n\t}\n\n\tsetupSwitcher();\n\tsetupScheme();\n};\n\nexport default tchemeControl;\n"],"names":["window","addEventListener","tchemeControl","lightStyles","document","querySelectorAll","darkStyles","darkSchemeMedia","matchMedia","fieldset","querySelector","setScheme","scheme","lightMedia","darkMedia","forEach","link","media","switchMedia","localStorage","removeItem","setItem","saveScheme","getSavedScheme","getItem","savedScheme","checked","evt","target","value","setupSwitcher","systemScheme","matches","setupScheme"],"sourceRoot":""}